<?xml version="1.0" encoding="UTF-8"?>
<!--
 ! (c) Copyright 2005-2012 JAXIO, www.jaxio.com
 ! Source code generated by Celerio, a Jaxio product
 ! Want to use Celerio within your company? email us at info@jaxio.com
 ! Follow us on twitter: @springfuse
 ! Template pack-mvc-3-sd:src/main/webapp/WEB-INF/urlrewrite.p.vm.xml
 <!DOCTYPE urlrewrite PUBLIC "-//www.tuckey.org//DTD UrlRewrite 3.2//EN" "http://www.tuckey.org/res/dtds/urlrewrite3.2.dtd">
-->

<!-- https://urlrewrite.dev.java.net/manual/3.0 -->
<urlrewrite>
	<rule>
		<from>^/favicon.ico$</from>
		<to last="true">/static/images/favicon.ico</to>
	</rule>
	<rule match-type="regex">
		<note>Serve static content directly from the filesystem and add caching instruction</note>
		<from>.*/webroot/static/(.*)</from>
		<set type="expires">5 days</set>
		<to last="true">/static/$1</to>
	</rule>
	<rule>
		<note>webroot</note>
		<from>.*/webroot/(.*)</from>
		<to>/$1</to>
	</rule>
	<rule match-type="regex">
		<note>redirect handler</note>
		<from>/i18njs</from>
		<set name="Expires" type="response-header">5 days</set>
		<to>/basehandler/queryJsI18N</to>
	</rule>
	<rule match-type="regex">
		<note>redirect handler</note>
		<from>^/([a-zA-Z0-9]+)handler/(.*)</from>
		<set name="Cache-Control" type="response-header">no-cache, no-store, max-age=0</set>
		<set name="Pragma" type="response-header">no-cache</set>
		<set name="Expires" type="response-header">0</set>
		<set name="_handler">$1handler</set>
		<set name="_action">$2</set>
		<to>/handler/$1handler/$2</to>
	</rule>
</urlrewrite>

